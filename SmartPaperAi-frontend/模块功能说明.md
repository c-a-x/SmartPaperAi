# SmartPaperAI æ¨¡å—åŠŸèƒ½è¯´æ˜æ–‡æ¡£

## ğŸ“š æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» SmartPaperAI æ™ºèƒ½å­¦æœ¯è®ºæ–‡åˆ†æç³»ç»Ÿçš„å„ä¸ªåŠŸèƒ½æ¨¡å—ï¼ŒåŒ…æ‹¬æ¨¡å—åŠŸèƒ½ã€ä½¿ç”¨åœºæ™¯ã€æ“ä½œæµç¨‹å’ŒæŠ€æœ¯å®ç°ã€‚

---

## ç›®å½•

1. [é¦–é¡µæ¨¡å—](#1-é¦–é¡µæ¨¡å—)
2. [æ–‡æ¡£ç®¡ç†æ¨¡å—](#2-æ–‡æ¡£ç®¡ç†æ¨¡å—)
3. [çŸ¥è¯†åº“ç®¡ç†æ¨¡å—](#3-çŸ¥è¯†åº“ç®¡ç†æ¨¡å—)
4. [æ™ºèƒ½å¯¹è¯æ¨¡å—](#4-æ™ºèƒ½å¯¹è¯æ¨¡å—)
5. [RAG é—®ç­”æ¨¡å—](#5-rag-é—®ç­”æ¨¡å—)
6. [æ™ºèƒ½åˆ†ææ¨¡å—](#6-æ™ºèƒ½åˆ†ææ¨¡å—)
7. [çŸ¥è¯†å›¾è°±æ¨¡å—](#7-çŸ¥è¯†å›¾è°±æ¨¡å—)
8. [æ•™å­¦æ¡ˆä¾‹æ¨¡å—](#8-æ•™å­¦æ¡ˆä¾‹æ¨¡å—)

---

## 1. é¦–é¡µæ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/HomeView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

é¦–é¡µæ˜¯ç³»ç»Ÿçš„æ•°æ®æ¦‚è§ˆä¸­å¿ƒï¼Œä¸ºç”¨æˆ·æä¾›å„ç±»èµ„æºçš„ç»Ÿè®¡ä¿¡æ¯å’Œå¿«æ·å…¥å£ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 1.1 æ•°æ®ç»Ÿè®¡å¡ç‰‡
- **æ•™å­¦æ¡ˆä¾‹ç»Ÿè®¡**: æ˜¾ç¤ºç³»ç»Ÿä¸­æ•™å­¦æ¡ˆä¾‹çš„æ€»æ•°
- **æ–‡æ¡£ç»Ÿè®¡**: æ˜¾ç¤ºå·²ä¸Šä¼ æ–‡æ¡£çš„æ€»æ•°
- **çŸ¥è¯†åº“ç»Ÿè®¡**: æ˜¾ç¤ºåˆ›å»ºçš„çŸ¥è¯†åº“æ•°é‡
- **å¯¹è¯ç»Ÿè®¡**: æ˜¾ç¤º AI å¯¹è¯çš„ä¼šè¯æ•°é‡

#### 1.2 æ–‡æ¡£åˆ—è¡¨å±•ç¤º
- æ˜¾ç¤ºæœ€è¿‘ä¸Šä¼ çš„æ–‡æ¡£åˆ—è¡¨
- åŒ…å«æ–‡æ¡£æ ‡é¢˜ã€ç±»å‹ã€åˆ›å»ºæ—¶é—´
- æ”¯æŒåˆ†é¡µåŠ è½½
- æä¾›å¿«æ·æ“ä½œæŒ‰é’®

#### 1.3 å¿«æ·æ“ä½œ
- å¿«é€Ÿè·³è½¬åˆ°å„åŠŸèƒ½æ¨¡å—
- ä¸€é”®æŸ¥çœ‹æ–‡æ¡£è¯¦æƒ…
- å¿«é€Ÿåˆ›å»ºæ–°èµ„æº

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **æ•°æ®æ¦‚è§ˆ**: ç”¨æˆ·ç™»å½•åå¿«é€Ÿäº†è§£ç³»ç»Ÿèµ„æºæ¦‚å†µ
- **å¿«é€Ÿå¯¼èˆª**: é€šè¿‡å¡ç‰‡å¿«æ·å…¥å£è®¿é—®å„åŠŸèƒ½æ¨¡å—
- **æœ€è¿‘æ´»åŠ¨**: æŸ¥çœ‹æœ€è¿‘ä¸Šä¼ çš„æ–‡æ¡£å’Œç³»ç»ŸåŠ¨æ€

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// æ•°æ®ç»Ÿè®¡
const stats = ref({
  teachingPlans: 0,
  documents: 0,
  knowledgeBases: 0,
  chats: 0
})

// åŠ è½½ç»Ÿè®¡æ•°æ®
async function loadStatistics() {
  const [teachingResponse, docResponse, kbResponse] = await Promise.all([
    getTeachingPlanList(),
    getDocumentList(),
    getKnowledgeBaseList()
  ])
  
  stats.value.teachingPlans = teachingResponse.data?.total || 0
  stats.value.documents = docResponse.data?.total || 0
  stats.value.knowledgeBases = kbResponse.data?.total || 0
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- ç»Ÿè®¡æ•°æ®å®æ—¶æ›´æ–°
- ç‚¹å‡»å¡ç‰‡å¯è·³è½¬åˆ°å¯¹åº”æ¨¡å—
- æ–‡æ¡£åˆ—è¡¨æ”¯æŒç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

---

## 2. æ–‡æ¡£ç®¡ç†æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/document/DocumentView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

æ–‡æ¡£ç®¡ç†æ¨¡å—æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œè´Ÿè´£å­¦æœ¯æ–‡æ¡£çš„ä¸Šä¼ ã€å­˜å‚¨ã€ç®¡ç†å’Œé¢„è§ˆã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 2.1 æ–‡æ¡£ä¸Šä¼ 
- **å¤šæ ¼å¼æ”¯æŒ**: 
  - PDF æ–‡ä»¶
  - Word æ–‡æ¡£ (DOCX)
  - çº¯æ–‡æœ¬æ–‡ä»¶ (TXT)
- **æ‰¹é‡ä¸Šä¼ **: æ”¯æŒä¸€æ¬¡æ€§ä¸Šä¼ å¤šä¸ªæ–‡æ¡£
- **æ‹–æ‹½ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
- **è¿›åº¦æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºä¸Šä¼ è¿›åº¦

#### 2.2 æ–‡æ¡£åˆ—è¡¨
- **è¡¨æ ¼å±•ç¤º**: ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºæ–‡æ¡£åˆ—è¡¨
- **ä¿¡æ¯æ˜¾ç¤º**:
  - æ–‡æ¡£æ ‡é¢˜
  - æ–‡ä»¶ç±»å‹
  - æ–‡ä»¶å¤§å°
  - çŠ¶æ€ï¼ˆè§£æä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰
  - åˆ›å»ºæ—¶é—´
  - æ›´æ–°æ—¶é—´
- **åˆ†é¡µåŠŸèƒ½**: æ”¯æŒç¿»é¡µæµè§ˆ
- **æœç´¢è¿‡æ»¤**: æŒ‰æ ‡é¢˜æœç´¢æ–‡æ¡£

#### 2.3 æ–‡æ¡£æ“ä½œ
- **æŸ¥çœ‹è¯¦æƒ…**: æŸ¥çœ‹æ–‡æ¡£å…ƒä¿¡æ¯å’Œå†…å®¹
- **é¢„è§ˆæ–‡æ¡£**: åœ¨çº¿é¢„è§ˆæ–‡æ¡£å†…å®¹
- **ä¸‹è½½æ–‡æ¡£**: ä¸‹è½½åŸå§‹æ–‡ä»¶
- **åˆ é™¤æ–‡æ¡£**: æ”¯æŒå•ä¸ª/æ‰¹é‡åˆ é™¤
- **å…³è”çŸ¥è¯†åº“**: å°†æ–‡æ¡£æ·»åŠ åˆ°çŸ¥è¯†åº“

#### 2.4 çŠ¶æ€è¿½è¸ª
- **è§£æä¸­**: æ–‡æ¡£æ­£åœ¨å¤„ç†ä¸­
- **å·²å®Œæˆ**: æ–‡æ¡£å¯ä»¥æ­£å¸¸ä½¿ç”¨
- **è§£æå¤±è´¥**: æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **è®ºæ–‡ç®¡ç†**: ä¸Šä¼ å’Œç®¡ç†å­¦æœ¯è®ºæ–‡
- **æ–‡çŒ®åº“å»ºè®¾**: æ„å»ºä¸ªäººæˆ–å›¢é˜Ÿæ–‡çŒ®åº“
- **æ–‡æ¡£é¢„å¤„ç†**: ä¸º RAG é—®ç­”å‡†å¤‡æ–‡æ¡£
- **æ‰¹é‡å¤„ç†**: æ‰¹é‡ä¸Šä¼ å’Œç®¡ç†å¤§é‡æ–‡æ¡£

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// æ–‡æ¡£ä¸Šä¼ 
async function handleUpload(file: File) {
  const formData = new FormData()
  formData.append('file', file)
  
  const response = await uploadDocument(formData)
  if (response.success) {
    ElMessage.success('ä¸Šä¼ æˆåŠŸ')
    await loadDocuments()
  }
}

// æ–‡æ¡£åˆ—è¡¨åŠ è½½
async function loadDocuments() {
  const response = await getDocumentList({
    page: currentPage.value,
    size: pageSize.value,
    keyword: searchKeyword.value
  })
  
  if (response.success && response.data) {
    documents.value = response.data.records
    total.value = response.data.total
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- ä¸Šä¼ å¤§æ–‡ä»¶æ—¶è¯·è€å¿ƒç­‰å¾…
- æ–‡æ¡£è§£æå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´
- åˆ é™¤æ–‡æ¡£å‰è¯·ç¡®è®¤æ˜¯å¦éœ€è¦å¤‡ä»½
- å»ºè®®ä¸ºæ–‡æ¡£è®¾ç½®æœ‰æ„ä¹‰çš„æ ‡é¢˜

---

## 3. çŸ¥è¯†åº“ç®¡ç†æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/knowledge/KnowledgeBaseView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

çŸ¥è¯†åº“ç®¡ç†æ¨¡å—ç”¨äºåˆ›å»ºå’Œç®¡ç†ä¸»é¢˜åŒ–çš„æ–‡æ¡£é›†åˆï¼Œæ–¹ä¾¿å¯¹ç›¸å…³æ–‡æ¡£è¿›è¡Œåˆ†ç»„ç®¡ç†ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 3.1 çŸ¥è¯†åº“åˆ›å»º
- **åŸºæœ¬ä¿¡æ¯è®¾ç½®**:
  - çŸ¥è¯†åº“åç§°
  - çŸ¥è¯†åº“æè¿°
  - æƒé™è®¾ç½®ï¼ˆå…¬å¼€/ç§æœ‰ï¼‰
- **è¡¨å•éªŒè¯**: ç¡®ä¿å¿…å¡«ä¿¡æ¯å®Œæ•´
- **å¿«é€Ÿåˆ›å»º**: ç®€åŒ–çš„åˆ›å»ºæµç¨‹

#### 3.2 çŸ¥è¯†åº“åˆ—è¡¨
- **å¡ç‰‡å±•ç¤º**: ç¾è§‚çš„å¡ç‰‡å¸ƒå±€
- **ä¿¡æ¯æ˜¾ç¤º**:
  - çŸ¥è¯†åº“åç§°
  - æè¿°ä¿¡æ¯
  - åŒ…å«æ–‡æ¡£æ•°é‡
  - åˆ›å»ºæ—¶é—´
  - æ›´æ–°æ—¶é—´
- **æœç´¢åŠŸèƒ½**: æŒ‰åç§°æœç´¢çŸ¥è¯†åº“
- **æ’åºåŠŸèƒ½**: æŒ‰æ—¶é—´æ’åº

#### 3.3 çŸ¥è¯†åº“ç®¡ç†
- **ç¼–è¾‘çŸ¥è¯†åº“**: ä¿®æ”¹åŸºæœ¬ä¿¡æ¯
- **åˆ é™¤çŸ¥è¯†åº“**: åˆ é™¤ä¸éœ€è¦çš„çŸ¥è¯†åº“
- **æ–‡æ¡£å…³è”**: 
  - æ·»åŠ æ–‡æ¡£åˆ°çŸ¥è¯†åº“
  - ç§»é™¤çŸ¥è¯†åº“ä¸­çš„æ–‡æ¡£
  - æŸ¥çœ‹å…³è”æ–‡æ¡£åˆ—è¡¨
- **ç»Ÿè®¡ä¿¡æ¯**: æŸ¥çœ‹çŸ¥è¯†åº“ç»Ÿè®¡æ•°æ®

#### 3.4 çŸ¥è¯†åº“è¯¦æƒ…
- **æ–‡æ¡£åˆ—è¡¨**: æ˜¾ç¤ºåŒ…å«çš„æ‰€æœ‰æ–‡æ¡£
- **çŸ¥è¯†åº“ä¿¡æ¯**: è¯¦ç»†çš„å…ƒæ•°æ®
- **æ“ä½œè®°å½•**: çŸ¥è¯†åº“çš„æ“ä½œå†å²

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **ä¸»é¢˜åˆ†ç±»**: æŒ‰ç ”ç©¶ä¸»é¢˜ç»„ç»‡æ–‡æ¡£
- **é¡¹ç›®ç®¡ç†**: ä¸ºä¸åŒé¡¹ç›®åˆ›å»ºçŸ¥è¯†åº“
- **è¯¾ç¨‹èµ„æ–™**: æ•´ç†æ•™å­¦ç›¸å…³æ–‡æ¡£
- **å›¢é˜Ÿåä½œ**: å…±äº«å›¢é˜ŸçŸ¥è¯†åº“

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// åˆ›å»ºçŸ¥è¯†åº“
async function handleCreateKnowledgeBase() {
  const response = await createKnowledgeBase({
    name: form.name,
    description: form.description,
    isPublic: form.isPublic
  })
  
  if (response.success) {
    ElMessage.success('åˆ›å»ºæˆåŠŸ')
    dialogVisible.value = false
    await loadKnowledgeBases()
  }
}

// æ·»åŠ æ–‡æ¡£åˆ°çŸ¥è¯†åº“
async function handleAddDocument(kbId: number, docId: string) {
  const response = await addDocumentToKnowledgeBase(kbId, docId)
  if (response.success) {
    ElMessage.success('æ·»åŠ æˆåŠŸ')
    await loadKnowledgeBaseDetail(kbId)
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- åˆ›å»ºçŸ¥è¯†åº“æ—¶å»ºè®®æ·»åŠ æ¸…æ™°çš„æè¿°
- åˆç†è§„åˆ’çŸ¥è¯†åº“çš„ä¸»é¢˜åˆ†ç±»
- å®šæœŸæ•´ç†å’Œæ›´æ–°çŸ¥è¯†åº“å†…å®¹
- åˆ©ç”¨æœç´¢åŠŸèƒ½å¿«é€Ÿå®šä½

---

## 4. æ™ºèƒ½å¯¹è¯æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/chat/ChatView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

æ™ºèƒ½å¯¹è¯æ¨¡å—æä¾›åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ AI å¯¹è¯åŠŸèƒ½ï¼Œæ”¯æŒä¸Šä¸‹æ–‡è®°å¿†å’Œæµå¼è¾“å‡ºã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 4.1 å¯¹è¯åŠŸèƒ½
- **å¤šè½®å¯¹è¯**: ä¿æŒä¸Šä¸‹æ–‡è¿ç»­å¯¹è¯
- **æµå¼è¾“å‡º**: å®æ—¶é€å­—æ˜¾ç¤º AI å›å¤
- **Markdown æ¸²æŸ“**: æ”¯æŒå¯Œæ–‡æœ¬ã€ä»£ç é«˜äº®
- **å¿«é€Ÿæé—®**: é¢„è®¾å¸¸ç”¨é—®é¢˜æ¨¡æ¿

#### 4.2 ä¼šè¯ç®¡ç†
- **ä¼šè¯åˆ—è¡¨**: æ˜¾ç¤ºæ‰€æœ‰å†å²ä¼šè¯
- **åˆ›å»ºæ–°ä¼šè¯**: å¼€å§‹æ–°çš„å¯¹è¯
- **åˆ é™¤ä¼šè¯**: åˆ é™¤ä¸éœ€è¦çš„å¯¹è¯è®°å½•
- **æ¸…ç©ºå†å²**: æ¸…é™¤å½“å‰ä¼šè¯çš„æ¶ˆæ¯
- **ä¼šè¯åˆ‡æ¢**: åœ¨ä¸åŒä¼šè¯é—´åˆ‡æ¢

#### 4.3 RAG å¢å¼ºå¯¹è¯
- **RAG å¼€å…³**: å¯é€‰å¯ç”¨æ£€ç´¢å¢å¼ºç”Ÿæˆ
- **é«˜çº§è®¾ç½®**:
  - æ£€ç´¢æ–‡æ¡£æ•°é‡ (ragTopK: 1-20)
  - ç›¸ä¼¼åº¦é˜ˆå€¼ (0-1)
  - æ¸©åº¦å‚æ•° (0-2)
  - æœ€å¤§ Token æ•° (100-4000)
  - å¯¹è¯è®°å¿†å¼€å…³

#### 4.4 æ¶ˆæ¯å±•ç¤º
- **æ¶ˆæ¯æ°”æ³¡**: åŒºåˆ†ç”¨æˆ·å’Œ AI æ¶ˆæ¯
- **æ—¶é—´æ˜¾ç¤º**: æ˜¾ç¤ºæ¶ˆæ¯å‘é€æ—¶é—´
- **ä»£ç é«˜äº®**: è‡ªåŠ¨è¯†åˆ«å’Œé«˜äº®ä»£ç å—
- **å¼•ç”¨æ¥æº**: RAG æ¨¡å¼ä¸‹æ˜¾ç¤ºå¼•ç”¨æ¥æº

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **å­¦æœ¯å’¨è¯¢**: è¯¢é—®å­¦æœ¯ç›¸å…³é—®é¢˜
- **è®ºæ–‡è¾…åŠ©**: è®ºæ–‡å†™ä½œå»ºè®®å’ŒæŒ‡å¯¼
- **çŸ¥è¯†é—®ç­”**: ä¸€èˆ¬æ€§çŸ¥è¯†é—®ç­”
- **RAG æ£€ç´¢**: åŸºäºå·²æœ‰æ–‡æ¡£çš„ç²¾å‡†é—®ç­”

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// æµå¼å¯¹è¯
async function sendMessage() {
  const response = await fetch(`${config.apiBaseUrl}/ai/chat/stream`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': localStorage.getItem(config.tokenKey) || ''
    },
    body: JSON.stringify({
      message: content,
      conversationId: currentConversationId.value,
      enableRag: enableRag.value,
      ragTopK: ragTopK.value,
      customTemperature: temperature.value,
      customMaxTokens: maxTokens.value,
      customSimilarityThreshold: similarityThreshold.value,
      enableMemory: enableMemory.value
    })
  })
  
  // å¤„ç†æµå¼å“åº”
  const reader = response.body?.getReader()
  const decoder = new TextDecoder()
  
  while (true) {
    const { done, value } = await reader.read()
    if (done) break
    
    const chunk = decoder.decode(value)
    // é€å­—æ›´æ–°æ¶ˆæ¯
    assistantMessage.content += chunk
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- æé—®è¦æ˜ç¡®å…·ä½“ï¼Œé¿å…è¿‡äºå®½æ³›
- å¯ç”¨ RAG å¯è·å¾—æ›´ç²¾å‡†çš„ç­”æ¡ˆ
- è°ƒæ•´æ¸©åº¦å‚æ•°æ§åˆ¶å›ç­”çš„åˆ›é€ æ€§
- é•¿å¯¹è¯å¯èƒ½æ¶ˆè€—è¾ƒå¤š Token

---

## 5. RAG é—®ç­”æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/rag/RagChatView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰é—®ç­”æ¨¡å—ä¸“æ³¨äºåŸºäºæ–‡æ¡£å†…å®¹çš„æ™ºèƒ½é—®ç­”ï¼Œæä¾›ç²¾å‡†çš„ç­”æ¡ˆå’Œå¼•ç”¨æ¥æºã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 5.1 èµ„æºé€‰æ‹©
- **çŸ¥è¯†åº“é€‰æ‹©**: 
  - åˆ—è¡¨å±•ç¤ºæ‰€æœ‰çŸ¥è¯†åº“
  - æ˜¾ç¤ºåŒ…å«çš„æ–‡æ¡£æ•°é‡
  - æœç´¢è¿‡æ»¤åŠŸèƒ½
- **æ–‡æ¡£é€‰æ‹©**:
  - åˆ—è¡¨å±•ç¤ºæ‰€æœ‰æ–‡æ¡£
  - æ˜¾ç¤ºæ–‡æ¡£æ ‡é¢˜å’Œåˆ›å»ºæ—¶é—´
  - æœç´¢è¿‡æ»¤åŠŸèƒ½
- **Tab åˆ‡æ¢**: åœ¨çŸ¥è¯†åº“å’Œæ–‡æ¡£é—´åˆ‡æ¢

#### 5.2 æ™ºèƒ½é—®ç­”
- **æ–‡æ¡£çº§é—®ç­”**: é’ˆå¯¹å•ä¸ªæ–‡æ¡£æé—®
- **çŸ¥è¯†åº“é—®ç­”**: è·¨å¤šä¸ªæ–‡æ¡£æ£€ç´¢å›ç­”
- **å‘é‡æ£€ç´¢**: åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢
- **å¼•ç”¨æ¥æº**: ç­”æ¡ˆé™„å¸¦åŸæ–‡å¼•ç”¨ç‰‡æ®µ

#### 5.3 å¼•ç”¨å±•ç¤º
- **å¼•ç”¨å¡ç‰‡**: ç¾è§‚çš„å¼•ç”¨æ¥æºå±•ç¤º
- **ç›¸å…³åº¦è¯„åˆ†**: æ˜¾ç¤ºå¼•ç”¨çš„ç›¸å…³åº¦ç™¾åˆ†æ¯”
- **åŸæ–‡ç‰‡æ®µ**: æ˜¾ç¤ºå¼•ç”¨çš„æ–‡æ¡£ç‰‡æ®µ
- **æ–‡æ¡£ä¿¡æ¯**: æ˜¾ç¤ºæ¥æºæ–‡æ¡£æ ‡é¢˜

#### 5.4 çŸ¥è¯†å›¾è°±å¢å¼º
- **å›¾è°±å¼€å…³**: å¯é€‰å¯ç”¨çŸ¥è¯†å›¾è°±å¢å¼º
- **å…³ç³»åˆ©ç”¨**: åˆ©ç”¨æ–‡æ¡£é—´å…³ç³»æå‡ç­”æ¡ˆè´¨é‡
- **ä¸Šä¸‹æ–‡æ‰©å±•**: åŸºäºå›¾è°±æ‰©å±•æ£€ç´¢èŒƒå›´

#### 5.5 å¯¹è¯å†å²
- **æ¶ˆæ¯è®°å½•**: ä¿å­˜é—®ç­”å†å²
- **ä¸Šä¸‹æ–‡ä¿æŒ**: åŒä¸€èµ„æºå†…çš„å¤šè½®å¯¹è¯
- **æ¸…ç©ºå†å²**: æ¸…é™¤å½“å‰å¯¹è¯è®°å½•

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **è®ºæ–‡é˜…è¯»**: å¿«é€Ÿç†è§£è®ºæ–‡æ ¸å¿ƒå†…å®¹
- **æ–‡çŒ®æ£€ç´¢**: è·¨æ–‡æ¡£æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯
- **çŸ¥è¯†æå–**: ä»å¤§é‡æ–‡æ¡£ä¸­æå–çŸ¥è¯†
- **äº‹å®æ ¸æŸ¥**: éªŒè¯ä¿¡æ¯çš„å‡†ç¡®æ€§

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// æ–‡æ¡£é—®ç­”
async function sendMessage() {
  let response
  
  if (selectedKbId.value) {
    // çŸ¥è¯†åº“é—®ç­”
    response = await knowledgeBaseChat(
      selectedKbId.value,
      content,
      useGraphEnhancement.value
    )
  } else if (selectedDocId.value) {
    // æ–‡æ¡£é—®ç­”
    response = await documentChat(
      selectedDocId.value,
      content,
      useGraphEnhancement.value
    )
  }
  
  if (response && response.success && response.data) {
    const assistantMessage: ChatMessage = {
      id: Date.now(),
      role: 'assistant',
      content: response.data.answer,
      sources: response.data.citations.map(citation => ({
        documentId: citation.documentId,
        documentName: citation.title,
        content: citation.snippet,
        score: citation.score
      }))
    }
    messages.value.push(assistantMessage)
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- å…ˆé€‰æ‹©çŸ¥è¯†åº“æˆ–æ–‡æ¡£å†æé—®
- å¼•ç”¨æ¥æºå¯éªŒè¯ç­”æ¡ˆçš„å‡†ç¡®æ€§
- å¯ç”¨çŸ¥è¯†å›¾è°±å¯è·å¾—æ›´å…¨é¢çš„ç­”æ¡ˆ
- é€‚åˆéœ€è¦å¼•ç”¨æ¥æºçš„å­¦æœ¯åœºæ™¯

---

## 6. æ™ºèƒ½åˆ†ææ¨¡å—

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

æ™ºèƒ½åˆ†ææ¨¡å—æä¾›å››ç§ä¸“ä¸šçš„å­¦æœ¯è®ºæ–‡åˆ†æåŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£å’Œåˆ†æè®ºæ–‡ã€‚

---

### 6.1 è®ºæ–‡æ€»ç»“ (Paper Summary)

**æ–‡ä»¶è·¯å¾„**: `src/views/analysis/PaperSummaryView.vue`

#### åŠŸèƒ½è¯´æ˜

å¯¹å•ç¯‡å­¦æœ¯è®ºæ–‡è¿›è¡Œå…¨é¢çš„å†…å®¹æå–å’Œæ€»ç»“ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

- **æ–‡æ¡£é€‰æ‹©**: ä»å·²ä¸Šä¼ æ–‡æ¡£ä¸­é€‰æ‹©å¾…åˆ†æè®ºæ–‡
- **æ™ºèƒ½æ€»ç»“**: AI è‡ªåŠ¨æå–è®ºæ–‡æ ¸å¿ƒå†…å®¹
- **ç»“æ„åŒ–è¾“å‡º**:
  - ç ”ç©¶èƒŒæ™¯
  - ç ”ç©¶æ–¹æ³•
  - ä¸»è¦å‘ç°
  - ç ”ç©¶ç»“è®º
  - å…³é”®è¯
  - åˆ›æ–°ç‚¹
- **è¿›åº¦æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºåˆ†æè¿›åº¦
- **Markdown å¯¼å‡º**: ä¸€é”®å¯¼å‡ºåˆ†ææŠ¥å‘Š

#### ä½¿ç”¨åœºæ™¯

- å¿«é€Ÿäº†è§£è®ºæ–‡æ ¸å¿ƒå†…å®¹
- æ’°å†™è®ºæ–‡æ‘˜è¦
- åˆ¶ä½œè®ºæ–‡å¯¼è¯»
- æ–‡çŒ®å¿«é€Ÿç­›é€‰

#### æŠ€æœ¯å®ç°

```typescript
async function handleAnalyze() {
  if (!selectedDocId.value) return
  
  isAnalyzing.value = true
  progress.value = 0
  
  const timer = setInterval(() => {
    if (progress.value < 90) {
      progress.value += Math.random() * 10
    }
  }, 500)
  
  try {
    const response = await paperSummary(selectedDocId.value)
    if (response.success && response.data) {
      result.value = response.data.summary
      progress.value = 100
    }
  } finally {
    clearInterval(timer)
    isAnalyzing.value = false
  }
}
```

---

### 6.2 è®ºæ–‡å¯¹æ¯” (Paper Comparison)

**æ–‡ä»¶è·¯å¾„**: `src/views/analysis/PaperComparisonView.vue`

#### åŠŸèƒ½è¯´æ˜

å¯¹å¤šç¯‡è®ºæ–‡è¿›è¡Œå¤šç»´åº¦å¯¹æ¯”åˆ†æï¼Œè¯†åˆ«å¼‚åŒç‚¹ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

- **å¤šæ–‡æ¡£é€‰æ‹©**: é€‰æ‹© 2-5 ç¯‡è®ºæ–‡è¿›è¡Œå¯¹æ¯”
- **å¯¹æ¯”ç»´åº¦**:
  - ç ”ç©¶ç›®æ ‡å¯¹æ¯”
  - ç ”ç©¶æ–¹æ³•å¯¹æ¯”
  - å®éªŒè®¾è®¡å¯¹æ¯”
  - æ•°æ®é›†å¯¹æ¯”
  - ç»“æœå¯¹æ¯”
  - ä¼˜ç¼ºç‚¹åˆ†æ
- **å¯¹æ¯”çŸ©é˜µ**: ç»“æ„åŒ–å±•ç¤ºå¯¹æ¯”ç»“æœ
- **å·®å¼‚æ ‡æ³¨**: é«˜äº®æ˜¾ç¤ºå…³é”®å·®å¼‚
- **å¯¼å‡ºåŠŸèƒ½**: å¯¼å‡ºå¯¹æ¯”æŠ¥å‘Š

#### ä½¿ç”¨åœºæ™¯

- æ–‡çŒ®ç»¼è¿°å†™ä½œ
- ç ”ç©¶æ–¹æ³•é€‰æ‹©
- è®ºæ–‡æŸ¥é‡å‚è€ƒ
- ç ”ç©¶è¶‹åŠ¿åˆ†æ

#### æŠ€æœ¯å®ç°

```typescript
async function handleCompare() {
  if (selectedDocs.value.length < 2) {
    ElMessage.warning('è¯·è‡³å°‘é€‰æ‹©2ç¯‡æ–‡æ¡£')
    return
  }
  
  isComparing.value = true
  progress.value = 0
  
  try {
    const response = await paperComparison(selectedDocs.value)
    if (response.success && response.data) {
      result.value = response.data.comparison
      progress.value = 100
    }
  } finally {
    isComparing.value = false
  }
}
```

---

### 6.3 åˆ›æ–°ç‚¹èšç±» (Innovation Cluster)

**æ–‡ä»¶è·¯å¾„**: `src/views/analysis/InnovationClusterView.vue`

#### åŠŸèƒ½è¯´æ˜

æ‰¹é‡æå–å¤šç¯‡è®ºæ–‡çš„åˆ›æ–°ç‚¹ï¼Œå¹¶è¿›è¡Œä¸»é¢˜èšç±»åˆ†æã€‚

#### æ ¸å¿ƒåŠŸèƒ½

- **æ‰¹é‡åˆ†æ**: åŒæ—¶åˆ†æå¤šç¯‡è®ºæ–‡
- **åˆ›æ–°ç‚¹æå–**: è‡ªåŠ¨è¯†åˆ«å„è®ºæ–‡åˆ›æ–°ç‚¹
- **ä¸»é¢˜èšç±»**: 
  - ç›¸ä¼¼åˆ›æ–°ç‚¹è‡ªåŠ¨åˆ†ç»„
  - ç”Ÿæˆä¸»é¢˜æ ‡ç­¾
  - ç»Ÿè®¡ä¸»é¢˜åˆ†å¸ƒ
- **è¶‹åŠ¿åˆ†æ**: è¯†åˆ«ç ”ç©¶çƒ­ç‚¹å’Œè¶‹åŠ¿
- **å¯è§†åŒ–å±•ç¤º**: 
  - èšç±»ç»“æœå¯è§†åŒ–
  - ä¸»é¢˜åˆ†å¸ƒå›¾
  - å…³ç³»ç½‘ç»œå›¾

#### ä½¿ç”¨åœºæ™¯

- è¯†åˆ«ç ”ç©¶çƒ­ç‚¹
- å‘ç°ç ”ç©¶è¶‹åŠ¿
- å¯»æ‰¾ç ”ç©¶ç©ºç™½
- é€‰é¢˜æ–¹å‘ç¡®å®š

#### æŠ€æœ¯å®ç°

```typescript
async function handleCluster() {
  if (selectedDocs.value.length === 0) {
    ElMessage.warning('è¯·é€‰æ‹©æ–‡æ¡£')
    return
  }
  
  isClustering.value = true
  progress.value = 0
  
  try {
    const response = await innovationCluster(selectedDocs.value)
    if (response.success && response.data) {
      clusters.value = response.data.clusters
      progress.value = 100
      
      // æ›´æ–°å›¾è¡¨
      updateChart()
    }
  } finally {
    isClustering.value = false
  }
}
```

---

### 6.4 æ–‡çŒ®ç»¼è¿° (Literature Review)

**æ–‡ä»¶è·¯å¾„**: `src/views/analysis/LiteratureReviewView.vue`

#### åŠŸèƒ½è¯´æ˜

åŸºäºå¤šç¯‡è®ºæ–‡ç”Ÿæˆç³»ç»ŸåŒ–çš„æ–‡çŒ®ç»¼è¿°æŠ¥å‘Šã€‚

#### æ ¸å¿ƒåŠŸèƒ½

- **æ–‡æ¡£é€‰æ‹©**: é€‰æ‹©ç›¸å…³è®ºæ–‡é›†åˆ
- **ç»¼åˆåˆ†æ**:
  - ç ”ç©¶å†å²æ¢³ç†
  - ç ”ç©¶ç°çŠ¶æ€»ç»“
  - ç ”ç©¶æ–¹æ³•æ±‡æ€»
  - ç ”ç©¶æˆæœæ€»ç»“
- **è„‰ç»œåˆ†æ**: æ¢³ç†ç ”ç©¶å‘å±•è„‰ç»œ
- **ç©ºç™½å‘ç°**: è¯†åˆ«ç ”ç©¶ç©ºç™½é¢†åŸŸ
- **ç»¼è¿°ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆæ–‡çŒ®ç»¼è¿°æŠ¥å‘Š
- **å¼•ç”¨ç®¡ç†**: è‡ªåŠ¨æ•´ç†å¼•ç”¨æ–‡çŒ®

#### ä½¿ç”¨åœºæ™¯

- æ’°å†™è®ºæ–‡æ–‡çŒ®ç»¼è¿°ç« èŠ‚
- å¼€é¢˜æŠ¥å‘Šå‡†å¤‡
- ç ”ç©¶ç°çŠ¶åˆ†æ
- è¯¾é¢˜ç”³æŠ¥ææ–™

#### æŠ€æœ¯å®ç°

```typescript
async function handleReview() {
  if (selectedDocs.value.length === 0) {
    ElMessage.warning('è¯·é€‰æ‹©æ–‡æ¡£')
    return
  }
  
  isReviewing.value = true
  progress.value = 0
  
  try {
    const response = await literatureReview(selectedDocs.value)
    if (response.success && response.data) {
      result.value = response.data.review
      progress.value = 100
    }
  } finally {
    isReviewing.value = false
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- åˆ†æå‰ç¡®ä¿æ–‡æ¡£å·²æ­£ç¡®ä¸Šä¼ å’Œè§£æ
- åˆç†é€‰æ‹©åˆ†æçš„æ–‡æ¡£æ•°é‡
- åˆ†æç»“æœå¯å¯¼å‡ºä¸º Markdown æ ¼å¼
- å¤§æ‰¹é‡åˆ†æå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´

---

## 7. çŸ¥è¯†å›¾è°±æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/knowledge-graph/KnowledgeGraphView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

çŸ¥è¯†å›¾è°±æ¨¡å—æä¾›äº¤äº’å¼çš„çŸ¥è¯†å…³ç³»å¯è§†åŒ–ï¼Œå±•ç¤ºæ–‡æ¡£ã€æ¦‚å¿µã€ä½œè€…ç­‰å®ä½“é—´çš„å…³ç³»ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 7.1 å›¾è°±ç±»å‹
- **å…¨å±€çŸ¥è¯†å›¾è°±**: 
  - å±•ç¤ºæ‰€æœ‰æ–‡æ¡£çš„çŸ¥è¯†å…³ç³»
  - æ”¯æŒå…³é”®è¯æŸ¥è¯¢
  - é™åˆ¶æ˜¾ç¤ºèŠ‚ç‚¹æ•°é‡
- **æ–‡æ¡£çŸ¥è¯†å›¾è°±**:
  - å•ä¸ªæ–‡æ¡£çš„å†…éƒ¨å…³ç³»
  - æ˜¾ç¤ºæ–‡æ¡£ä¸­çš„æ¦‚å¿µå…³ç³»
  - æ”¯æŒå…³é”®è¯è¿‡æ»¤
- **çŸ¥è¯†åº“å›¾è°±**:
  - çŸ¥è¯†åº“å†…æ–‡æ¡£é—´å…³ç³»
  - æ˜¾ç¤ºæ–‡æ¡£ç›¸ä¼¼æ€§
  - æ˜¾ç¤ºå¼•ç”¨å…³ç³»

#### 7.2 èŠ‚ç‚¹ç±»å‹
- **æ–‡æ¡£èŠ‚ç‚¹**: 
  - è“è‰²åœ†å½¢
  - å¤§å°è¡¨ç¤ºé‡è¦åº¦
- **æ¦‚å¿µèŠ‚ç‚¹**:
  - ç»¿è‰²åœ†å½¢
  - è¡¨ç¤ºå…³é”®æ¦‚å¿µ
- **ä½œè€…èŠ‚ç‚¹**:
  - æ©™è‰²åœ†å½¢
  - è¡¨ç¤ºè®ºæ–‡ä½œè€…

#### 7.3 å…³ç³»ç±»å‹
- **å¼•ç”¨å…³ç³»**: è®ºæ–‡é—´çš„å¼•ç”¨
- **ç›¸ä¼¼å…³ç³»**: å†…å®¹ç›¸ä¼¼çš„æ–‡æ¡£
- **åŒ…å«å…³ç³»**: æ–‡æ¡£åŒ…å«çš„æ¦‚å¿µ
- **å…±ç°å…³ç³»**: æ¦‚å¿µå…±åŒå‡ºç°

#### 7.4 äº¤äº’åŠŸèƒ½
- **èŠ‚ç‚¹æ‹–æ‹½**: è‡ªç”±ç§»åŠ¨èŠ‚ç‚¹ä½ç½®
- **ç¼©æ”¾å¹³ç§»**: 
  - é¼ æ ‡æ»šè½®ç¼©æ”¾
  - æ‹–æ‹½å¹³ç§»ç”»å¸ƒ
- **èŠ‚ç‚¹ç‚¹å‡»**: æ˜¾ç¤ºèŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
- **å…³ç³»é«˜äº®**: ç‚¹å‡»èŠ‚ç‚¹é«˜äº®ç›¸å…³å…³ç³»
- **åŠ›å¯¼å‘å¸ƒå±€**: è‡ªåŠ¨ä¼˜åŒ–èŠ‚ç‚¹åˆ†å¸ƒ

#### 7.5 ç»Ÿè®¡ä¿¡æ¯
- **èŠ‚ç‚¹ç»Ÿè®¡**:
  - æ€»èŠ‚ç‚¹æ•°
  - å„ç±»å‹èŠ‚ç‚¹æ•°
  - å­¤ç«‹èŠ‚ç‚¹æ•°
- **å…³ç³»ç»Ÿè®¡**:
  - æ€»å…³ç³»æ•°
  - å„ç±»å‹å…³ç³»æ•°
  - å¹³å‡è¿æ¥åº¦

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **çŸ¥è¯†å‘ç°**: å‘ç°éšè—çš„çŸ¥è¯†å…³è”
- **æ¦‚å¿µç†è§£**: ç†è§£æ¦‚å¿µé—´çš„å…³ç³»
- **æ–‡çŒ®å…³ç³»**: åˆ†ææ–‡çŒ®é—´çš„å¼•ç”¨å…³ç³»
- **ç ”ç©¶è„‰ç»œ**: å¯è§†åŒ–ç ”ç©¶å‘å±•è„‰ç»œ

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// ä½¿ç”¨ ECharts æ¸²æŸ“çŸ¥è¯†å›¾è°±
function renderGraph(graphData: KnowledgeGraphVO) {
  const option = {
    series: [{
      type: 'graph',
      layout: 'force',
      data: graphData.nodes.map(node => ({
        id: node.id,
        name: node.properties.name,
        symbolSize: calculateSize(node.properties.importance),
        itemStyle: {
          color: getNodeColor(node.labels[0])
        }
      })),
      links: graphData.relationships.map(rel => ({
        source: rel.startNodeId,
        target: rel.endNodeId,
        lineStyle: {
          width: rel.properties.weight * 3
        }
      })),
      force: {
        repulsion: 1000,
        edgeLength: [100, 200]
      },
      roam: true,
      draggable: true
    }]
  }
  
  chart.setOption(option)
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- èŠ‚ç‚¹è¿‡å¤šæ—¶å¯ä½¿ç”¨å…³é”®è¯è¿‡æ»¤
- æ‹–æ‹½èŠ‚ç‚¹å¯ä¼˜åŒ–å¸ƒå±€
- ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æ

---

## 8. æ•™å­¦æ¡ˆä¾‹æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/teaching/TeachingPlanView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

æ•™å­¦æ¡ˆä¾‹æ¨¡å—ç”¨äºåˆ›å»ºã€ç®¡ç†å’Œåˆ†äº«æ•™å­¦æ¡ˆä¾‹ï¼Œæ”¯æŒå¯Œæ–‡æœ¬ç¼–è¾‘å’Œæ–‡æ¡£å…³è”ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 8.1 æ¡ˆä¾‹åˆ›å»º
- **åŸºæœ¬ä¿¡æ¯**:
  - æ¡ˆä¾‹æ ‡é¢˜
  - æ¡ˆä¾‹æè¿°
  - å­¦ç§‘åˆ†ç±»
  - æ¡ˆä¾‹ç±»å‹
  - éš¾åº¦ç­‰çº§
- **å¯Œæ–‡æœ¬ç¼–è¾‘**: 
  - Markdown ç¼–è¾‘å™¨
  - æ”¯æŒæ’å…¥å›¾ç‰‡
  - æ”¯æŒä»£ç å—
  - å®æ—¶é¢„è§ˆ
- **æ–‡æ¡£å…³è”**: å…³è”ç›¸å…³å­¦æœ¯æ–‡æ¡£

#### 8.2 æ¡ˆä¾‹ç®¡ç†
- **åˆ—è¡¨å±•ç¤º**: 
  - è¡¨æ ¼å½¢å¼å±•ç¤º
  - åˆ†é¡µåŠ è½½
  - æ’åºåŠŸèƒ½
- **æœç´¢è¿‡æ»¤**:
  - æŒ‰æ ‡é¢˜æœç´¢
  - æŒ‰å­¦ç§‘ç­›é€‰
  - æŒ‰ç±»å‹ç­›é€‰
- **æ‰¹é‡æ“ä½œ**:
  - æ‰¹é‡åˆ é™¤
  - æ‰¹é‡å¯¼å‡º
  - æ‰¹é‡åˆ†ç±»

#### 8.3 æ¡ˆä¾‹ç¼–è¾‘
- **å†…å®¹ç¼–è¾‘**: ä¿®æ”¹æ¡ˆä¾‹å†…å®¹
- **ä¿¡æ¯æ›´æ–°**: æ›´æ–°å…ƒæ•°æ®
- **æ–‡æ¡£ç®¡ç†**: ç®¡ç†å…³è”æ–‡æ¡£
- **ç‰ˆæœ¬æ§åˆ¶**: ä¿å­˜ç¼–è¾‘å†å²

#### 8.4 æ¡ˆä¾‹åˆ†äº«
- **æƒé™è®¾ç½®**: å…¬å¼€/ç§æœ‰
- **é“¾æ¥åˆ†äº«**: ç”Ÿæˆåˆ†äº«é“¾æ¥
- **å¯¼å‡ºåŠŸèƒ½**: å¯¼å‡ºä¸º PDF/Word
- **æ‰“å°åŠŸèƒ½**: æ”¯æŒæ‰“å°é¢„è§ˆ

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **æ•™å­¦å‡†å¤‡**: å‡†å¤‡æ•™å­¦æ¡ˆä¾‹ææ–™
- **æ¡ˆä¾‹åº“å»ºè®¾**: æ„å»ºæ•™å­¦æ¡ˆä¾‹åº“
- **ç»éªŒåˆ†äº«**: åˆ†äº«æ•™å­¦ç»éªŒ
- **èµ„æºæ•´åˆ**: æ•´åˆæ•™å­¦èµ„æº

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// åˆ›å»ºæ•™å­¦æ¡ˆä¾‹
async function handleCreate() {
  const response = await createTeachingPlan({
    title: form.title,
    description: form.description,
    content: form.content,
    subject: form.subject,
    type: form.type,
    difficulty: form.difficulty,
    documentIds: form.documentIds
  })
  
  if (response.success) {
    ElMessage.success('åˆ›å»ºæˆåŠŸ')
    dialogVisible.value = false
    await loadTeachingPlans()
  }
}

// å…³è”æ–‡æ¡£
async function handleAddDocument(planId: number, docId: string) {
  const response = await addDocumentToTeachingPlan(planId, docId)
  if (response.success) {
    ElMessage.success('å…³è”æˆåŠŸ')
    await loadPlanDetail(planId)
  }
}
```

### ğŸ’¡ ä½¿ç”¨æç¤º

- ä½¿ç”¨ Markdown æ ¼å¼å¯ä»¥æ›´å¥½åœ°ç»„ç»‡å†…å®¹
- åˆç†ä½¿ç”¨æ ‡é¢˜å±‚çº§
- å…³è”ç›¸å…³æ–‡æ¡£ä¾¿äºæŸ¥é˜…
- å®šæœŸå¤‡ä»½é‡è¦æ¡ˆä¾‹

---

## 9. ç”¨æˆ·è®¤è¯æ¨¡å—

**æ–‡ä»¶è·¯å¾„**: `src/views/LoginView.vue`

### ğŸ“‹ æ¨¡å—æ¦‚è¿°

ç”¨æˆ·è®¤è¯æ¨¡å—è´Ÿè´£ç”¨æˆ·ç™»å½•ã€æ³¨å†Œå’Œæƒé™ç®¡ç†ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### 9.1 ç”¨æˆ·ç™»å½•
- **è´¦å·ç™»å½•**: ç”¨æˆ·å/é‚®ç®± + å¯†ç 
- **è®°ä½ç™»å½•**: ä¿å­˜ç™»å½•çŠ¶æ€
- **è‡ªåŠ¨ç™»å½•**: Token è‡ªåŠ¨ç»­æœŸ
- **é”™è¯¯æç¤º**: å‹å¥½çš„é”™è¯¯ä¿¡æ¯

#### 9.2 Token ç®¡ç†
- **Token å­˜å‚¨**: LocalStorage å­˜å‚¨
- **Token åˆ·æ–°**: è‡ªåŠ¨åˆ·æ–°æœºåˆ¶
- **Token è¿‡æœŸ**: è‡ªåŠ¨è·³è½¬ç™»å½•
- **å®‰å…¨é€€å‡º**: æ¸…é™¤æœ¬åœ°æ•°æ®

#### 9.3 æƒé™æ§åˆ¶
- **è·¯ç”±å®ˆå«**: ä¿æŠ¤éœ€è¦ç™»å½•çš„é¡µé¢
- **API æ‹¦æˆª**: è¯·æ±‚è‡ªåŠ¨æºå¸¦ Token
- **æƒé™éªŒè¯**: éªŒè¯ç”¨æˆ·æ“ä½œæƒé™

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **ç³»ç»Ÿè®¿é—®**: ç™»å½•ç³»ç»Ÿä½¿ç”¨åŠŸèƒ½
- **ä¼šè¯ç®¡ç†**: ç®¡ç†ç”¨æˆ·ä¼šè¯
- **å®‰å…¨ä¿æŠ¤**: ä¿æŠ¤ç”¨æˆ·æ•°æ®å®‰å…¨

### ğŸ”§ æŠ€æœ¯å®ç°

```typescript
// ç”¨æˆ·ç™»å½•
async function handleLogin() {
  try {
    const response = await login({
      username: form.username,
      password: form.password
    })
    
    if (response.success && response.data) {
      // ä¿å­˜ Token
      localStorage.setItem(config.tokenKey, response.data.token)
      
      // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
      localStorage.setItem(
        config.userInfoKey,
        JSON.stringify(response.data.userInfo)
      )
      
      // è·³è½¬åˆ°é¦–é¡µ
      router.push('/')
    }
  } catch (error) {
    ElMessage.error('ç™»å½•å¤±è´¥')
  }
}
```

---

## 10. é€šç”¨åŠŸèƒ½

### 10.1 è¯·æ±‚æ‹¦æˆªå™¨

**æ–‡ä»¶è·¯å¾„**: `src/utils/request.ts`

#### åŠŸèƒ½è¯´æ˜

ç»Ÿä¸€çš„ HTTP è¯·æ±‚å°è£…ï¼Œå¤„ç†è¯·æ±‚å’Œå“åº”æ‹¦æˆªã€‚

#### æ ¸å¿ƒåŠŸèƒ½

- **è¯·æ±‚æ‹¦æˆª**:
  - è‡ªåŠ¨æ·»åŠ  Token
  - è®¾ç½®è¯·æ±‚å¤´
  - è¯·æ±‚å‚æ•°å¤„ç†
- **å“åº”æ‹¦æˆª**:
  - ç»Ÿä¸€é”™è¯¯å¤„ç†
  - Token è¿‡æœŸå¤„ç†
  - æ•°æ®æ ¼å¼åŒ–

```typescript
// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem(config.tokenKey)
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  (response) => {
    const { code, msg } = response.data
    
    if (code !== '0') {
      ElMessage.error(msg || 'è¯·æ±‚å¤±è´¥')
      return Promise.reject(new Error(msg))
    }
    
    return response.data
  },
  (error) => {
    if (error.response?.status === 401) {
      // Token è¿‡æœŸï¼Œè·³è½¬ç™»å½•
      router.push('/login')
    }
    return Promise.reject(error)
  }
)
```

---

### 10.2 æ ¼å¼åŒ–å·¥å…·

**æ–‡ä»¶è·¯å¾„**: `src/utils/format.ts`

#### åŠŸèƒ½è¯´æ˜

æä¾›å„ç§æ•°æ®æ ¼å¼åŒ–å‡½æ•°ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

```typescript
// ç›¸å¯¹æ—¶é—´æ ¼å¼åŒ–
export function formatRelativeTime(timestamp: string): string {
  const now = new Date().getTime()
  const time = new Date(timestamp).getTime()
  const diff = now - time
  
  const minute = 60 * 1000
  const hour = 60 * minute
  const day = 24 * hour
  
  if (diff < minute) {
    return 'åˆšåˆš'
  } else if (diff < hour) {
    return `${Math.floor(diff / minute)}åˆ†é’Ÿå‰`
  } else if (diff < day) {
    return `${Math.floor(diff / hour)}å°æ—¶å‰`
  } else if (diff < 7 * day) {
    return `${Math.floor(diff / day)}å¤©å‰`
  } else {
    return new Date(timestamp).toLocaleDateString()
  }
}

// æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
export function formatFileSize(bytes: number): string {
  if (bytes < 1024) {
    return bytes + ' B'
  } else if (bytes < 1024 * 1024) {
    return (bytes / 1024).toFixed(2) + ' KB'
  } else if (bytes < 1024 * 1024 * 1024) {
    return (bytes / (1024 * 1024)).toFixed(2) + ' MB'
  } else {
    return (bytes / (1024 * 1024 * 1024)).toFixed(2) + ' GB'
  }
}
```

---

## ğŸ“ æ€»ç»“

SmartPaperAI ç³»ç»Ÿé€šè¿‡æ¨¡å—åŒ–çš„è®¾è®¡ï¼Œä¸ºç”¨æˆ·æä¾›äº†å®Œæ•´çš„å­¦æœ¯è®ºæ–‡åˆ†æå’ŒçŸ¥è¯†ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚æ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„èŒè´£å’Œä¸°å¯Œçš„åŠŸèƒ½ï¼Œç›¸äº’é…åˆå½¢æˆå®Œæ•´çš„å·¥ä½œæµç¨‹ï¼š

1. **æ–‡æ¡£ä¸Šä¼ ** â†’ æ–‡æ¡£ç®¡ç†æ¨¡å—
2. **çŸ¥è¯†ç»„ç»‡** â†’ çŸ¥è¯†åº“ç®¡ç†æ¨¡å—
3. **æ™ºèƒ½é—®ç­”** â†’ RAG é—®ç­”æ¨¡å—
4. **æ·±åº¦åˆ†æ** â†’ æ™ºèƒ½åˆ†ææ¨¡å—
5. **å…³ç³»æ¢ç´¢** â†’ çŸ¥è¯†å›¾è°±æ¨¡å—
6. **çŸ¥è¯†æ²‰æ·€** â†’ æ•™å­¦æ¡ˆä¾‹æ¨¡å—

ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒå’Œå¼ºå¤§çš„åŠŸèƒ½æ”¯æŒã€‚

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®ä¸»æ–‡æ¡£ (README.md)](./README.md)
- [API æ¥å£æ–‡æ¡£ (æ¥å£æ–‡æ¡£.md)](./æ¥å£æ–‡æ¡£.md)
- [å¼€å‘æŒ‡å—](./README.md#å¼€å‘æŒ‡å—)
- [éƒ¨ç½²è¯´æ˜](./README.md#éƒ¨ç½²è¯´æ˜)

---

<div align="center">

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-01-28  
**ç»´æŠ¤å›¢é˜Ÿ**: SmartPaperAI Team

</div>
