# SmartPaperAI å¼€å‘æŒ‡å— ğŸš€

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®å·²å®ŒæˆåŠŸèƒ½](#å·²å®ŒæˆåŠŸèƒ½)
2. [å¯åŠ¨é¡¹ç›®](#å¯åŠ¨é¡¹ç›®)
3. [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
4. [å¼€å‘å»ºè®®](#å¼€å‘å»ºè®®)
5. [API å¯¹æ¥](#api-å¯¹æ¥)
6. [å¸¸ç”¨ä»£ç ç‰‡æ®µ](#å¸¸ç”¨ä»£ç ç‰‡æ®µ)

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. åŸºç¡€è®¾æ–½ âœ…
- [x] Axios HTTP å®¢æˆ·ç«¯å°è£…ï¼ˆè¯·æ±‚/å“åº”æ‹¦æˆªå™¨ï¼‰
- [x] TypeScript ç±»å‹å®šä¹‰ï¼ˆå…¨å±€ç±»å‹æ¥å£ï¼‰
- [x] æœ¬åœ°å­˜å‚¨å·¥å…·ï¼ˆTokenã€ç”¨æˆ·ä¿¡æ¯ï¼‰
- [x] æ ¼å¼åŒ–å·¥å…·ï¼ˆæ—¥æœŸã€æ–‡ä»¶å¤§å°ç­‰ï¼‰
- [x] å…¨å±€é…ç½®æ–‡ä»¶

### 2. ç”¨æˆ·è®¤è¯ âœ…
- [x] ç™»å½•é¡µé¢ï¼ˆæ”¯æŒéªŒè¯ç ï¼‰
- [x] æ³¨å†Œé¡µé¢
- [x] Pinia çŠ¶æ€ç®¡ç†ï¼ˆauth storeï¼‰
- [x] è·¯ç”±å®ˆå«ï¼ˆæœªç™»å½•æ‹¦æˆªï¼‰
- [x] Token è‡ªåŠ¨æ³¨å…¥
- [x] 401 è‡ªåŠ¨è·³è½¬ç™»å½•

### 3. ä¸»å¸ƒå±€ âœ…
- [x] ä¾§è¾¹æ å¯¼èˆªï¼ˆå¯æŠ˜å ï¼‰
- [x] é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæœç´¢ã€é€šçŸ¥ã€ç”¨æˆ·ä¿¡æ¯ï¼‰
- [x] é¢åŒ…å±‘å¯¼èˆª
- [x] å“åº”å¼è®¾è®¡

### 4. æ•™å­¦è®¾è®¡æ¨¡å— âœ…
- [x] åˆ—è¡¨é¡µï¼ˆæœç´¢ã€æ’åºï¼‰
- [x] åˆ›å»º/ç¼–è¾‘é¡µï¼ˆå®Œæ•´è¡¨å•ï¼‰
- [x] è¯¦æƒ…é¡µ
- [x] åˆ é™¤åŠŸèƒ½

### 5. æ–‡æ¡£ç®¡ç†æ¨¡å— âœ…
- [x] åˆ—è¡¨é¡µï¼ˆä¸Šä¼ ã€æœç´¢ã€è¿‡æ»¤ï¼‰
- [x] è¯¦æƒ…é¡µï¼ˆå…ƒæ•°æ®å±•ç¤ºï¼‰
- [x] ä¸Šä¼ åŠŸèƒ½
- [x] åˆ é™¤åŠŸèƒ½

### 6. çŸ¥è¯†åº“æ¨¡å— âœ…
- [x] åˆ—è¡¨é¡µï¼ˆå¡ç‰‡å¼å±•ç¤ºï¼‰
- [x] åˆ›å»º/ç¼–è¾‘å¯¹è¯æ¡†
- [x] è¯¦æƒ…é¡µï¼ˆæ–‡æ¡£ç®¡ç†ï¼‰
- [x] åˆ é™¤åŠŸèƒ½

### 7. AI å¯¹è¯æ¨¡å— âœ…
- [x] ä¼šè¯åˆ—è¡¨ï¼ˆå·¦ä¾§ï¼‰
- [x] èŠå¤©ç•Œé¢ï¼ˆå³ä¾§ï¼‰
- [x] ä¸‰ç§æ¨¡å¼ï¼ˆæ™®é€š/æ–‡æ¡£/çŸ¥è¯†åº“ï¼‰
- [x] å¼•ç”¨æ¥æºå±•ç¤º
- [x] æ¶ˆæ¯å†å²

### 8. å…¶ä»– âœ…
- [x] é¦–é¡µï¼ˆç»Ÿè®¡+å¿«æ·å…¥å£ï¼‰
- [x] 404 é¡µé¢
- [x] è·¯ç”±é…ç½®
- [x] Element Plus é›†æˆ
- [x] SASS æ”¯æŒ

## ğŸš€ å¯åŠ¨é¡¹ç›®

### ç¬¬ä¸€æ¬¡å¯åŠ¨

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd c:\Users\26870\Desktop\smartPaperAi

# 2. å®‰è£…ä¾èµ–ï¼ˆå·²å®Œæˆï¼‰
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 4. æµè§ˆå™¨è®¿é—®
# http://localhost:5173
```

### æ—¥å¸¸å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„è¯´æ˜

```
src/
â”œâ”€â”€ api/              # API æ¥å£å±‚ï¼ˆä¸åç«¯äº¤äº’ï¼‰
â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯æ¥å£ï¼šlogin, register, logout
â”‚   â”œâ”€â”€ teaching.ts   # æ•™å­¦è®¾è®¡æ¥å£
â”‚   â”œâ”€â”€ document.ts   # æ–‡æ¡£ç®¡ç†æ¥å£
â”‚   â”œâ”€â”€ knowledge.ts  # çŸ¥è¯†åº“æ¥å£
â”‚   â””â”€â”€ chat.ts       # AI å¯¹è¯æ¥å£
â”‚
â”œâ”€â”€ config/           # é…ç½®å±‚
â”‚   â””â”€â”€ index.ts      # å…¨å±€é…ç½®ï¼ˆAPIåœ°å€ã€Tokené”®åç­‰ï¼‰
â”‚
â”œâ”€â”€ types/            # ç±»å‹å±‚
â”‚   â””â”€â”€ index.ts      # æ‰€æœ‰ TypeScript æ¥å£å®šä¹‰
â”‚
â”œâ”€â”€ utils/            # å·¥å…·å±‚
â”‚   â”œâ”€â”€ request.ts    # Axios å°è£…ï¼ˆæ‹¦æˆªå™¨ï¼‰
â”‚   â”œâ”€â”€ storage.ts    # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â””â”€â”€ format.ts     # æ ¼å¼åŒ–å·¥å…·
â”‚
â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†å±‚ï¼ˆPiniaï¼‰
â”‚   â””â”€â”€ auth.ts       # è®¤è¯çŠ¶æ€ï¼ˆtoken, userInfo, isLoggedInï¼‰
â”‚
â”œâ”€â”€ router/           # è·¯ç”±å±‚
â”‚   â””â”€â”€ index.ts      # è·¯ç”±é…ç½®å’Œå®ˆå«
â”‚
â”œâ”€â”€ layouts/          # å¸ƒå±€å±‚
â”‚   â””â”€â”€ MainLayout.vue # ä¸»å¸ƒå±€ï¼ˆä¾§è¾¹æ +é¡¶æ +å†…å®¹åŒºï¼‰
â”‚
â””â”€â”€ views/            # è§†å›¾å±‚ï¼ˆé¡µé¢ç»„ä»¶ï¼‰
    â”œâ”€â”€ HomeView.vue
    â”œâ”€â”€ LoginView.vue
    â”œâ”€â”€ teaching/     # æ•™å­¦è®¾è®¡æ¨¡å—
    â”œâ”€â”€ document/     # æ–‡æ¡£ç®¡ç†æ¨¡å—
    â”œâ”€â”€ knowledge/    # çŸ¥è¯†åº“æ¨¡å—
    â””â”€â”€ chat/         # AIå¯¹è¯æ¨¡å—
```

### æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ â†’ é¡µé¢ç»„ä»¶ â†’ API è°ƒç”¨ â†’ Axios æ‹¦æˆªå™¨ â†’ åç«¯
                â†“
              Pinia Storeï¼ˆçŠ¶æ€æ›´æ–°ï¼‰
                â†“
              é¡µé¢ç»„ä»¶ï¼ˆUI æ›´æ–°ï¼‰
```

## ğŸ’¡ å¼€å‘å»ºè®®

### 1. ä¿®æ”¹åç«¯ API åœ°å€

ç¼–è¾‘ `src/config/index.ts`ï¼š

```typescript
export const config = {
  apiBaseUrl: 'http://your-backend-api.com', // â† æ”¹è¿™é‡Œ
  // ...
}
```

### 2. æ·»åŠ æ–°çš„ API æ¥å£

åœ¨å¯¹åº”çš„ API æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```typescript
// src/api/example.ts
import { request } from '@/utils/request'
import type { ApiResponse } from '@/types'

export function getExample() {
  return request.get<ApiResponse<any>>('/api/example')
}

export function createExample(data: any) {
  return request.post<ApiResponse<void>>('/api/example', data)
}
```

### 3. æ·»åŠ æ–°çš„ç±»å‹å®šä¹‰

åœ¨ `src/types/index.ts` ä¸­æ·»åŠ ï¼š

```typescript
export interface ExampleVO {
  id: number
  name: string
  // ...
}
```

### 4. åˆ›å»ºæ–°çš„é¡µé¢

```vue
<!-- src/views/example/ExampleView.vue -->
<template>
  <div class="example-container">
    <el-card>
      <!-- é¡µé¢å†…å®¹ -->
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { getExample } from '@/api/example'

const data = ref([])

async function loadData() {
  try {
    const response = await getExample()
    if (response.success) {
      data.value = response.data
    }
  } catch (error) {
    console.error(error)
  }
}

onMounted(() => {
  loadData()
})
</script>

<style scoped lang="scss">
.example-container {
  // æ ·å¼
}
</style>
```

### 5. æ·»åŠ æ–°çš„è·¯ç”±

åœ¨ `src/router/index.ts` ä¸­æ·»åŠ ï¼š

```typescript
{
  path: 'example',
  name: 'Example',
  component: () => import('@/views/example/ExampleView.vue'),
  meta: { title: 'ç¤ºä¾‹é¡µé¢' }
}
```

### 6. åœ¨ä¾§è¾¹æ æ·»åŠ èœå•

ç¼–è¾‘ `src/layouts/MainLayout.vue`ï¼š

```vue
<el-menu-item index="/example">
  <el-icon><Document /></el-icon>
  <template #title>ç¤ºä¾‹é¡µé¢</template>
</el-menu-item>
```

## ğŸ”Œ API å¯¹æ¥

### 1. ç™»å½•æµç¨‹

```typescript
// 1. ç”¨æˆ·å¡«å†™è¡¨å•
const loginForm = {
  username: 'admin',
  password: '123456'
}

// 2. è°ƒç”¨ç™»å½• API
const response = await authStore.login(loginForm)

// 3. authStore è‡ªåŠ¨ä¿å­˜ token å’Œ userInfo åˆ° localStorage
// 4. è·¯ç”±å®ˆå«å…è®¸è®¿é—®å—ä¿æŠ¤çš„é¡µé¢
// 5. æ‰€æœ‰åç»­è¯·æ±‚è‡ªåŠ¨å¸¦ä¸Š token
```

### 2. è°ƒç”¨ API çš„æ ‡å‡†æµç¨‹

```typescript
// 1. å¯¼å…¥ API å‡½æ•°
import { getDocumentList } from '@/api/document'

// 2. è°ƒç”¨å¹¶å¤„ç†å“åº”
try {
  const response = await getDocumentList()
  if (response.success) {
    // æˆåŠŸå¤„ç†
    console.log(response.data)
  } else {
    // å¤±è´¥å¤„ç†
    ElMessage.error(response.msg)
  }
} catch (error) {
  // é”™è¯¯å¤„ç†ï¼ˆç½‘ç»œé”™è¯¯ã€401ç­‰ï¼‰
  ElMessage.error('è¯·æ±‚å¤±è´¥')
}
```

### 3. æ–‡ä»¶ä¸Šä¼ 

```typescript
// ä½¿ç”¨å°è£…çš„ upload æ–¹æ³•
import { request } from '@/utils/request'

const file = /* è·å–çš„æ–‡ä»¶å¯¹è±¡ */

const response = await request.upload(
  '/api/documents/upload',
  file,
  (percent) => {
    console.log(`ä¸Šä¼ è¿›åº¦ï¼š${percent}%`)
  }
)
```

### 4. Token å¤±æ•ˆå¤„ç†

ç³»ç»Ÿå·²è‡ªåŠ¨å¤„ç†ï¼š
- å“åº”æ‹¦æˆªå™¨æ£€æµ‹åˆ° 401 çŠ¶æ€ç 
- è‡ªåŠ¨æ¸…é™¤ token å’Œç”¨æˆ·ä¿¡æ¯
- è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
- ä¿å­˜å½“å‰é¡µé¢åœ°å€ï¼Œç™»å½•åè‡ªåŠ¨è·³å›

## ğŸ“ å¸¸ç”¨ä»£ç ç‰‡æ®µ

### 1. åˆ—è¡¨é¡µæ¨¡æ¿

```typescript
const loading = ref(false)
const tableData = ref([])
const searchKeyword = ref('')

async function loadData() {
  loading.value = true
  try {
    const response = await getListAPI()
    if (response.success) {
      tableData.value = response.data || []
    }
  } catch (error: any) {
    ElMessage.error(error.message || 'åŠ è½½å¤±è´¥')
  } finally {
    loading.value = false
  }
}

onMounted(() => {
  loadData()
})
```

### 2. è¡¨å•æäº¤

```typescript
const formRef = ref<FormInstance>()
const formData = reactive({
  name: '',
  description: ''
})

async function handleSubmit() {
  if (!formRef.value) return
  
  await formRef.value.validate(async (valid) => {
    if (valid) {
      try {
        await createAPI(formData)
        ElMessage.success('æ“ä½œæˆåŠŸ')
        router.back()
      } catch (error: any) {
        ElMessage.error(error.message || 'æ“ä½œå¤±è´¥')
      }
    }
  })
}
```

### 3. åˆ é™¤ç¡®è®¤

```typescript
async function handleDelete(id: number) {
  try {
    await ElMessageBox.confirm('ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ', 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'warning'
    })
    
    await deleteAPI(id)
    ElMessage.success('åˆ é™¤æˆåŠŸ')
    loadData()
  } catch (error: any) {
    if (error !== 'cancel') {
      ElMessage.error(error.message || 'åˆ é™¤å¤±è´¥')
    }
  }
}
```

### 4. æ—¥æœŸæ ¼å¼åŒ–

```typescript
import { formatDateTime, formatRelativeTime } from '@/utils/format'

// å®Œæ•´æ—¥æœŸæ—¶é—´
formatDateTime('2025-01-19T12:00:00') // "2025-01-19 12:00:00"

// ç›¸å¯¹æ—¶é—´
formatRelativeTime('2025-01-19T11:00:00') // "1å°æ—¶å‰"
```

### 5. æ–‡ä»¶å¤§å°æ ¼å¼åŒ–

```typescript
import { formatFileSize } from '@/utils/format'

formatFileSize(1024) // "1 KB"
formatFileSize(1048576) // "1 MB"
formatFileSize(1073741824) // "1 GB"
```

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### åŠŸèƒ½å®Œå–„
1. âš¡ å®ç°æ–‡æ¡£é¢„è§ˆåŠŸèƒ½
2. âš¡ å®ç°æ–‡æ¡£ä¸‹è½½åŠŸèƒ½
3. âš¡ æ·»åŠ ä¸ªäººä¸­å¿ƒé¡µé¢
4. âš¡ æ·»åŠ è®¾ç½®é¡µé¢
5. âš¡ å®ç°é€šçŸ¥åŠŸèƒ½
6. âš¡ æ·»åŠ æ–‡æ¡£æ ‡ç­¾åŠŸèƒ½
7. âš¡ æ·»åŠ æœç´¢å†å²

### æ€§èƒ½ä¼˜åŒ–
1. ğŸ“ˆ æ·»åŠ è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰
2. ğŸ“ˆ æ·»åŠ éª¨æ¶å±åŠ è½½
3. ğŸ“ˆ å›¾ç‰‡æ‡’åŠ è½½
4. ğŸ“ˆ è·¯ç”±æ‡’åŠ è½½ä¼˜åŒ–
5. ğŸ“ˆ API è¯·æ±‚å»é‡

### ç”¨æˆ·ä½“éªŒ
1. ğŸ’… æ·»åŠ  Loading åŠ¨ç”»
2. ğŸ’… å®Œå–„é”™è¯¯æç¤º
3. ğŸ’… æ·»åŠ ç©ºçŠ¶æ€æ’ç”»
4. ğŸ’… æ·»åŠ æ“ä½œå¼•å¯¼
5. ğŸ’… ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

### æµ‹è¯•
1. ğŸ§ª æ·»åŠ å•å…ƒæµ‹è¯•
2. ğŸ§ª æ·»åŠ  E2E æµ‹è¯•
3. ğŸ§ª API Mock æ•°æ®

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

1. **ç¼–è¯‘é”™è¯¯**ï¼šæ£€æŸ¥ TypeScript ç±»å‹æ˜¯å¦æ­£ç¡®
2. **API è°ƒç”¨å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œå’Œåç«¯åœ°å€é…ç½®
3. **é¡µé¢ç©ºç™½**ï¼šæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
4. **æ ·å¼é—®é¢˜**ï¼šæ£€æŸ¥ SASS è¯­æ³•å’Œ Element Plus ä¸»é¢˜

## ğŸ‰ å¼€å§‹å¼€å‘å§ï¼

ç°åœ¨ä½ å¯ä»¥ï¼š
1. âœ… å¯åŠ¨é¡¹ç›®ï¼š`npm run dev`
2. âœ… è®¿é—®ï¼šhttp://localhost:5173
3. âœ… å¼€å§‹å¼€å‘æ–°åŠŸèƒ½ï¼

ç¥å¼€å‘é¡ºåˆ©ï¼ ğŸš€
